<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>RegExp Matcher</title>
    <link rel="stylesheet" href="//code.bdstatic.com/npm/@wtdf/joshua@0.0.12/dist/joshua.min.css">
    <link rel="stylesheet" href="/index.css">
    <style>
    .btn, .select, .input { margin-bottom: 0; vertical-align: middle; }

    .container, html, body { height: 100%; }
    .container {
        display: flex;
        flex-direction: column;
    }
    #topbar {
        padding: 30px 0;
    }
    #regexp span { color: #ccc; }
    #editor table {
        margin-bottom: 0
    }
    #editor {
        flex-grow: 1;
        padding-bottom: 2em;
    }
    #content {
        border: 1px solid #a4a4a4;
        height: 100%;
        width: 100%;
        padding: 1em;
        font-family: var(--font-mono), monospace;
        white-space: pre-wrap;
        -webkit-user-modify: read-write-plaintext-only;
        user-modify: read-write-plaintext-only;
        outline: none;
    }
    #content mark {
        background: #1696d2;
        outline: 1px solid #fff;
    }
    </style>

    <link rel="manifest" href="/manifest.json" />
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((reg) => {
                        console.log('Service worker registered.')
                    })
            })
        }
    </script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-79264835-8"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-79264835-8');
    </script> 
</head>
<body>
    
    <div class="container">
        
        <div id="topbar" class="valign">
            <div id="regexp" style="width: 50%">
                <span>/</span> <input id="query" type="text" style="width: 90%;" class="input" autocomplete="off" autofocus="autofocus" spellcheck="false" /> <span>/</span>　
            </div>
            <div class="form">
                <span class="custom-input" style="display:none">
                    <input type="checkbox" id="global" name="g" checked>
                    <label for="global">Global(g)</label>
                </span>　
                <span class="custom-input">
                    <input type="checkbox" id="ignore-case" name="i" checked>
                    <label for="ignore-case">Ignore Case(i)</label>
                </span>　
                <span class="custom-input" style="display:none">
                    <input type="checkbox" id="multiline" name="m" checked>
                    <label for="multiline">Multiline(m)</label>
                </span>
            </div>
            
        </div>
        
        <div id="editor">
            <div class="row">
                <div class="col-1-2">
                    <pre id="content" contenteditable spellcheck="false"></pre>
                </div>
                <div class="col-1-2">
                    <div class="typo serif">
                        <table width="100%">
                            <thead>
                                <tr>
                                    <th>类型</th>
                                    <th>代码</th>
                                    <th>说明</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td rowspan="4">位置</td>
                                    <td>^</td>
                                    <td>匹配字符串的<strong>开始</strong></td>
                                </tr>
                                <tr>
                                    <td>$</td>
                                    <td>匹配字符串的<strong>结束</strong></td>
                                </tr>
                                <tr>
                                    <td>\b</td>
                                    <td>匹配单词的开始或结束</td>
                                </tr>
                                <tr>
                                    <td>\B</td>
                                    <td>匹配不是单词开头或结束的位置</td>
                                </tr>

                                <tr>
                                    <td>通用</td>
                                    <td>.</td>
                                    <td>匹配除换行符以外的任意字符</td>
                                </tr>
                                <tr>
                                    <td rowspan="6">正反</td>
                                    <td>\w</td>
                                    <td>匹配字母或数字或下划线或汉字</td>
                                </tr>
                                <tr>
                                    <td>\W</td>
                                    <td>匹配任意不是字母，数字，下划线，汉字的字符</td>
                                </tr>

                                <tr>
                                    <td>\s</td>
                                    <td>匹配任意的空白符</td>
                                </tr>
                                <tr>
                                    <td>\S</td>
                                    <td>匹配任意不是空白符的字符</td>
                                </tr>

                                <tr>
                                    <td>\d</td>
                                    <td>匹配数字</td>
                                </tr>
                                <tr>
                                    <td>\D</td>
                                    <td>匹配任意非数字的字符</td>
                                </tr>
                                
                                <tr>
                                    <td>排除</td>
                                    <td>[^x]</td>
                                    <td>匹配除了x以外的任意字符</td>
                                </tr>
                                <tr>
                                    <td rowspan="6">重复</td>
                                    <td>*</td>
                                    <td>重复零次或更多次</td>
                                </tr>
                                <tr>
                                    <td>+</td>
                                    <td>重复一次或更多次</td>
                                </tr>
                                <tr>
                                    <td>?</td>
                                    <td>重复零次或一次</td>
                                </tr>
                                <tr>
                                    <td>{n}</td>
                                    <td>重复n次</td>
                                </tr>
                                <tr>
                                    <td>{n,}</td>
                                    <td>重复n次或更多次</td>
                                </tr>
                                <tr>
                                    <td>{n,m}</td>
                                    <td>重复n到m次</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
        </div>
    </div>


    <script src="/index.js"></script>

</body>
</html>